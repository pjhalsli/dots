#!/usr/bin/env bash
#
# rename pictures based on exifs

set -e

while [[ $# -gt 0 ]]; do
    # get ext
    ext=${1##*.}
    ext=${ext,,}

    # get date
    date=$(identify -format "%[EXIF:DateTime]" "$1")
    date=${date//:/-}
    date=${date// /_}

    mv "$1" "${date}.${ext}"
    shift
done
