#!/usr/bin/env bash
#
# rename pictures based on exifs

while [[ $# -gt 0 ]]; do
    ext=${1##*.}

    date=$(identify -format "%[EXIF:DateTime]" "$1")

    # exit in case there is no exif
    ! [[ $date ]] && exit

    date=${date//:/-}
    date=${date// /_}

    mv "$1" "${date}.${ext}"
    shift
done
