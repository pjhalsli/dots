#!/usr/bin/env bash
#
# very simple fetch

# FETCH

# colors
t=$(tput sgr0)
a=$(tput setaf 11)

# infos
sh=$(basename "$SHELL")
os=$(. /etc/os-release && echo "$ID")
pkg=$(dpkg --get-selections | grep -cv deinstall)
font=$(xrdb -query | grep -m1 font | cut -d- -f3)

# get wm id
id=$(xprop -root -notype _NET_SUPPORTING_WM_CHECK)
id=${id##* }

# get wm name
wm=$(xprop -id "$id" -notype -len 100 -f _NET_WM_NAME 8t)
wm=${wm/*WM_NAME = }
wm=${wm/\"}
wm=${wm/\"*}

# OUTPUT

cat << EOF

${a}os${t}:          ${os}
${a}shell${t}:       ${sh}
${a}packages${t}:    ${pkg}
${a}font${t}:        ${font}
${a}wm${t}:          ${wm}

EOF
