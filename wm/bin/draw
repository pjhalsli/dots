#!/usr/bin/env bash
#
# draw terminals
#
# wm key bindings

bw=$(bspc config border_width)
bspc rule -a \* -o state=floating

# get values from slop
read -r w h x y < <(slop -q -f "%w %h %x %y")

# take borders into account
(( w -= 2 * bw ))
(( h -= 2 * bw ))

urxvtc &

# wait for our window to spawn
# then move it and resize it
bspc subscribe node_add | \
    while read -r line; do
        xdotool getactivewindow windowmove "$x" "$y" &
        xdotool getactivewindow windowsize "$w" "$h" &

        break
    done
