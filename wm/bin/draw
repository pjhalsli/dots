#!/usr/bin/env bash
#
# draw terminals
#
# wm script

bw=$(bspc config border_width)
bspc rule -a \* -o state=floating

# get values from slop
read -r w h x y < <(slop -f "%w %h %x %y")

urxvtc &

# take borders into account
(( w -= 2 * bw ))
(( h -= 2 * bw ))

while read -r event mon desk node ip; do
    xdotool windowmove "$node" "$x" "$y" &
    xdotool windowsize "$node" "$w" "$h" &

    break
done < <(bspc subscribe node_manage)
