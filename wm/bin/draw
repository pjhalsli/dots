#!/bin/sh
#
# draw terminals

# make the newly spawned window floating
bspc rule -a \* -o state=floating

slop -f '%x %y %w %h' |
{
    read -r x y w h

    # take borders into account
    b=$(bspc config border_width)

    w=$((w - 2 * b))
    h=$((h - 2 * b))

    urxvtc &

    # wait for the window to spawn
    # then move it and resize it
    bspc subscribe node_add |
    {
        read -r event mon desk ip node

        wtp "$x" "$y" "$w" "$h" "$node"
    }
}
