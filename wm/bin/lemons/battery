# sourced by 'panel'

bat ()
    while :; do
        read -r var < /sys/class/power_supply/BAT0/capacity

        case $((var == 100 ? 0 : var >= 75 ? 1 : var >= 50 ? 2 : var >= 25 ? 3 : 4)) in
            0) icon=;;
            1) icon=;;
            2) icon=;;
            3) icon=;;
            4) icon=
        esac

        echo "B$icon $var%"

        sleep 10
    done

# vim: ft=sh
