# sourced by 'panel'

file=/tmp/ssid

# create file if necessary
test -e "$file" || > $file

ntw ()
{
    # ensure network block isn't empty on startup
    # https://raw.github.com/turquoise-hexagon/bin/master/ssid
    { echo init; inotifywait -qme close_write "$file"; } |
        while read -r event; do
            read -r var < $file

            # fallback to disconnected
            var=${var:-Disconnected}

            echo "N$aî„¿$t $var"
        done
}

# vim: ft=sh
