# sourced by 'panel'

ntw ()
{
    file=/tmp/ssid

    {
        echo init
        # subscribe to network manager events via a file
        inotifywait -e close_write -m "$file" 2> /dev/null
    } |
        while read -r event; do
            read -r var < $file

            # fallback to disconnected
            var=${var:-Disconnected}

            echo "N$aî„¿$t $var"
        done
}

# vim: ft=sh
