#!/usr/bin/env dash
#
# external bspwm rules
#
# wm utils

# exit if there is a preselection
bspc query -N -n .\!automatic > /dev/null && \
    exit

vert=south
hori=east

x=$(bspc query -T -n focused | jq '.rectangle.width')
y=$(bspc query -T -n focused | jq '.rectangle.height')

# split horizontaly if x > y
# split verticaly otherwise
[ "$x" -gt "$y" ] && \
    split="$hori" ||\
    split="$vert"

echo "split_dir=${split}"

# vim: ft=sh
