#!/usr/bin/env bash
#
# take a screenshot & send a notification
#
# wm key bindings

dir="${HOME}/pictures/screenshots"
tim=$(date +%d-%m-%y_%H-%M-%S)

scr() {
    mkdir -p "$dir"

    # build command line
    arg=( $1 )

    import "${arg[@]}" "${dir}/${tim}.png" && \
        notify-send "Saved screenshot as ${tim}.png"
}

case "$1" in
    normal) scr "-window root";;
    focused) scr "-window $(xdo id)";;
    select) scr;;
esac
