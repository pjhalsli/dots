#!/usr/bin/env bash
#
# send a notification on cmus update
#
# cmus utils

while [[ $# -gt 2 ]]; do
    case "$1" in
        status) current="$2";;
        title) title="$2";;
        artist) artist="$2";;
        album) album="$2";;
    esac

    shift;shift
done

if [[ $current == playing ]]; then
    # format ampersands for pango
    text="$title\n$artist - $album"
    text=${text//&/&amp;}

    notify-send -t 1000 "$text"
fi
