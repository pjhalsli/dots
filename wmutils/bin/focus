#!/bin/sh
#
# focus window in a given direction
#
# wmutils

#      north
#        |
# west --+-- east
#        |
#      south

border() {
    chwb -s 10 "$2"
    case "$1" in
        a) chwb2 -O 0xEEEEEE -I 0x032C36 -i 5 -o 5 "$2";;
        t) chwb2 -O 0x032C36 -I 0xEEEEEE -i 5 -o 5 "$2";;
    esac
}

case "$1" in
    0x*) wattr "$1" && id="$1";;
    # stolen from wmutils contrib
    next) id=$(lsw | grep -v "$2" | sed '1 p;d');;
    prev) id=$(lsw | grep -v "$2" | sed '$ p;d');;
    east|west|south|north) id=$(closest "$1");;
esac

# set borders
border a "$id"

for win in $(lsw | grep -v "$id"); do
    border t "$win"
done

# set focus
wtf "$id"

# set stacking order
chwso -r "$id"
