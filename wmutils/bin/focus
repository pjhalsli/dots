#!/bin/sh
#
# focus window in a given direction
#
# wmutils

#      north
#        |
# west --+-- east
#        |
#      south

border() {
    chwb -s 10 "$2"
    case "$1" in
        a) chwb2 -I 0xEEEEEE -O 0x032C36 -o 4 -i 4 "$2";;
        t) chwb2 -I 0x032C36 -O 0xEEEEEE -o 4 -i 4 "$2";;
    esac
}

case "$1" in
    east) id=$(closest east);;
    west) id=$(closest west);;
    south) id=$(closest south);;
    north) id=$(closest north);;
    0x*) wattr "$1" && id="$1";;
esac

# set borders
border a "$id"

for win in `lsw | grep -v "$id"`; do
    border t "$win"
done

# set focus
wtf "$id"

# set stacking order
chwso -r "$id"

# teleport cursor
wmp -a $(wattr xy "$id")
wmp -r $(wattr wh "$id")
